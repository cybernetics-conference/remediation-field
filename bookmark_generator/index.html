<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<link href='https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Source+Sans+Pro:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/3.4.0/lodash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.5/vue.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<script src="js/qrcode.min.js"></script>

<script>
var getUrlValue = function(VarSearch){
    var SearchString = window.location.search.substring(1);
    var VariableArray = SearchString.split('&');
    for(var i = 0; i < VariableArray.length; i++){
        var KeyValuePair = VariableArray[i].split('=');
        if(KeyValuePair[0] === VarSearch){
            return KeyValuePair[1];
        }
    }
}


</script>

<!--<link rel="stylesheet" href="css/bookmark.css" /> -->


<style type="text/css">
body {
	margin: 0px;
	padding: 0px;
  font-family: 'Roboto Mono';
}
.flexcontainer {
	display: flex;
	align-items: center;
	justify-content: center;
	flex-direction: row;
}

.centerdiv {
}

#bookmark {
  background-image: url("../img/slip_template.svg");
  background-repeat: no-repeat;
  height: 960px;
    width: 400px;
  position: relative;
}

.b_elem {
  position: absolute;
  display: flex;
  align-items: left;
  flex-direction: column;
  justify-content: center;
  font-size: 0.9em;
}

#qrcode * {
  width: 170px; height: 170px; 
}


#cylibid { top: 168px; left: 55px}
#cylibid_id { top: 185px; left: 55px; }
#qrcode { top: 33px; left: 205px}
#mark-title { top: 271px; left: 50px}
#mark-authors { top: 385px; left: 50px}
#mark-publication { top: 477px; left: 50px}
#mark-source { top: 548px; left: 50px}
#mark-tags { top: 625px; left: 5px}

#cylibid { text-align: center; width: 100px;}
#cylibid_id { text-align: center; width: 100px;}
#mark-title {  height: 115px;  width: 340px;  text-align: left; }
#mark-authors {  height: 90px;  width: 340px;  text-align: left; }
#mark-publication {  height: 70px;  width: 340px;  text-align: left; }
#mark-source {  height: 53px;  width: 340px;  text-align: left; font-size: 0.8em; }
#mark-tags { width: 140px; height: 260px; font-size: 0.5em; align-items: flex-start; }


</style>

<!-- 
///////////////
CUSTOMIZE BELOW
/////////////// -->

<title>CYBERNETICS LIBRARY BOOKMARK GENERATOR</title>

</head>
<body>
<div class="flexcontainer">
	<div class="centerdiv">
    <div id="bookmark">

      <!-- QRcodes -->
      <div class="b_elem" id="cylibid">CYLIB-ID</div>
      <div class="b_elem" id="cylibid_id">{{ id }}</div>
      <div class="b_elem" id="qrcode"></div>
      <div class="b_elem" id="mark-title">{{ title }}</div>
      <div class="b_elem" id="mark-authors">{{ authors }}</div>
      <div class="b_elem" id="mark-publication">{{ publication }}</div>
      <div class="b_elem" id="mark-source">Inter-Library Loan from the collection of: <br /><b>{{ source }}</b></div>
      <div class="b_elem" id="mark-tags">{{ tags }}</div>



    </div>



	</div>
</div>
<script>
var bm = new Vue({
  el: '#bookmark',
  methods: {
    loadData() {
      this.$data.id = getUrlValue("bookid");

    }
  },
  mounted() {

    this.loadData()


    var qr = new QRCode(document.getElementById("qrcode"), {
      text: "https://library.cybernetics.social/checkout/" + this.$data.id
    });

    console.log(this.$data.id);
    console.log("dho");



    console.log($(".b_elem" ));
//    $(".b_elem" ).draggable();

  },
  data: {
    id: 147800304,
    title: "Radical reconstruction",
    authors: "Woods, Lebbeus",
    publication: "New York : Princeton Architectural Press, c1997.",
    tags: "Architecture and society, Architecture--Philosophy, Architecture, Philosophy",
    source: "David Hecht"
  }
})
</script>
</body>
</html>




